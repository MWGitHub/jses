{"version":3,"sources":["webpack:///webpack/bootstrap 5ae8b5e049e155a96818","webpack:///./main.js","webpack:///./src/core/core.js","webpack:///./~/process/browser.js","webpack:///./~/timers-browserify/main.js","webpack:///./src/core/loop.js","webpack:///./src/pixi/pixi-layer.js","webpack:///./src/core/render-layer.js","webpack:///./src/pixi/viewport.js","webpack:///./src/pixi/camera.js","webpack:///./src/core/state-switcher.js"],"names":[],"mappings":"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","file":"./static/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5ae8b5e049e155a96818\n **/","\"use strict\";\n\nimport Core from './src/core/core';\nimport PIXILayer from './src/pixi/pixi-layer';\nimport { Viewport } from './src/pixi/viewport';\nimport Camera from './src/pixi/camera';\nimport StateSwitcher from './src/core/state-switcher';\n\nvar Game = function () {\n  var width = 683, height = 384;\n\n  var core = new Core(window);\n\n  // Create the renderer.\n  var pixiLayer = new PIXILayer(window.document.getElementById('content'));\n  core.addRenderLayer(pixiLayer);\n\n  // Create the main viewport and camera.\n  var camera = new Camera();\n  var viewport = new Viewport(camera, width, height);\n  viewport.addTo(pixiLayer.stage);\n  viewport.isFloored = false;\n  core.resize(width, height);\n\n  // Create the states\n  var switcher = new StateSwitcher();\n  core.addUpdateCallback(switcher.update.bind(switcher));\n  core.addPreRenderCallback(switcher.preRender.bind(switcher));\n  core.addPostRenderCallback(switcher.postRender.bind(switcher));\n\n  core.addPreRenderCallback((dt) => {\n    viewport.update();\n  });\n\n  this.start = function () {\n    core.start();\n  };\n\n  this.stop = function() {\n    core.stop();\n  };\n};\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","\"use strict\";\n\nimport { Loop } from './loop';\n\nvar isBrowser = true;\nif (process && process.argv.length !== 0) {\n  isBrowser = false;\n}\n\n/**\n * Initialize the main update loop.\n * @param {Window} window the window to use for updating the frame.\n * @constructor\n */\nfunction Core(window) {\n  /**\n   * Cross browser request animation frame.\n   * @type {*|Function}\n   */\n  this._requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback){\n          window.setTimeout(callback, 1000 / 60);\n      };\n  this._requestAnimFrame = this._requestAnimFrame.bind(window);\n\n  /**\n   * Loop to use for updating the logic.\n   * @type {LoopInterface}\n   */\n  this.updateLoop = new Loop(60);\n\n  /**\n   * Loop to use for  updating the rendering.\n   * @type {LoopInterface}\n   */\n  this.renderLoop = new Loop(60);\n\n  /**\n   * Rendering layers.\n   * @type {Array.<RenderLayer>}\n   */\n  this._renderLayers = [];\n\n  /**\n   * Called when the logic updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onUpdate = [];\n\n  /**\n   * Called before the renderer updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onPreRender = [];\n\n  /**\n   * Called after the renderer updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onPostRender = [];\n\n  /**\n   * True to run the loop.\n   * @type {boolean}\n   */\n  this._isRunning = false;\n\n  /**\n   * Callbacks for the beginning of the update loop.\n   * @type {Array.<Function(Number)>}\n   */\n  this._beginCallbacks = [];\n  /**\n   * Callbacks for the end of the update loop.\n   * @type {Array.<Function(Number)>}\n   */\n  this._endCallbacks = [];\n\n  this._boundUpdate = this._update.bind(this);\n  this._boundRender = this._render.bind(this);\n}\n\n/**\n * Renders the scene.\n * @param {Number} dt time between updates.\n */\nCore.prototype._render = function (dt) {\n  this._onPreRender.forEach(function (element) {\n    element(dt);\n  });\n  this._renderLayers.forEach(function (element) {\n    element.render(dt);\n  });\n  this._onPostRender.forEach(function (element) {\n    element(dt);\n  });\n};\n\n/**\n * Updates the game.\n * @param {number} dt the time step of the update.\n */\nCore.prototype._update = function (dt) {\n  this._beginCallbacks.forEach(function (element) {\n    element(dt);\n  });\n  this._onUpdate.forEach(function (element) {\n    element(dt);\n  });\n  this._endCallbacks.forEach(function (element) {\n    element(dt);\n  });\n};\n\n/**\n * Updates the game logic and renders the scene.\n */\nCore.prototype._run = function () {\n  var that = this;\n  var runner = function () {\n    if (!that._isRunning) return;\n\n    that.updateLoop.update(that._boundUpdate);\n    that.renderLoop.update(that._boundRender);\n\n    if (isBrowser) {\n      that._requestAnimFrame(runner);\n    } else {\n      setImmediate(runner);\n    }\n  };\n  runner();\n};\n\n/**\n * Starts the game.\n */\nCore.prototype.start = function () {\n  this._isRunning = true;\n  this.updateLoop.reset();\n  this.renderLoop.reset();\n  this._run();\n};\n\n/**\n * Stops the game.\n */\nCore.prototype.stop = function () {\n  this._isRunning = false;\n};\n\n/**\n * Resizes each rendering layer.\n * @param {Number} width the width to resize the renderers.\n * @param {Number} height the height to resize the renderers.\n */\nCore.prototype.resize = function (width, height) {\n  this._renderLayers.forEach(function (element) {\n    element.resize(width, height);\n  });\n};\n\n/**\n * Add render a layer.\n * @param {RenderLayer} layer the render layer to add.\n */\nCore.prototype.addRenderLayer = function (layer) {\n  this._renderLayers.push(layer);\n};\n\n/**\n * Remove a render layer.\n * @param {RenderLayer} layer the render layer to remove.\n */\nCore.prototype.removeRenderLayer = function (layer) {\n  var index = this._onPostRender.indexOf(layer);\n  if (index >= 0) {\n    this._renderLayers.splice(index, 1);\n  }\n};\n\n/**\n * Add and remove callbacks from the renders.\n */\n\nCore.prototype.addPreRenderCallback = function (cb) {\n  this._onPreRender.push(cb);\n};\nCore.prototype.removePreRenderCallback = function (cb) {\n  var index = this._onPostRender.indexOf(cb);\n  if (index >= 0) {\n    this._onPreRender.splice(index, 1);\n  }\n};\nCore.prototype.addPostRenderCallback = function (cb) {\n  this._onPostRender.push(cb);\n};\nCore.prototype.removePostRenderCallback = function (cb) {\n  var index = this._onPostRender.indexOf(cb);\n  if (index >= 0) {\n    this._onPostRender.splice(index, 1);\n  }\n};\n\n/**\n * Add and remove callbacks for beginning and end of an update loop.\n */\nCore.prototype.addUpdateCallback = function (cb) {\n  this._onUpdate.push(cb);\n};\nCore.prototype.removeUpdateCallback = function (cb) {\n  var index = this._onUpdate.indexOf(cb);\n  if (index >= 0) {\n    this._onUpdate.splice(index, 1);\n  }\n};\nCore.prototype.addBeginCallback = function (cb) {\n  this._beginCallbacks.push(cb);\n};\nCore.prototype.removeBeginCallback = function (cb) {\n  var index = this._beginCallbacks.indexOf(cb);\n  if (index >= 0) {\n    this._beginCallbacks.splice(index, 1);\n  }\n};\nCore.prototype.addEndCallback = function (cb) {\n  this._endCallbacks.push(cb);\n};\nCore.prototype.removeEndCallback = function (cb) {\n  var index = this._endCallbacks.indexOf(cb);\n  if (index >= 0) {\n    this._endCallbacks.splice(index, 1);\n  }\n};\n\n/**\n * Retrieves if the core is running.\n * @returns {boolean}\n */\nCore.prototype.getIsRunning = function () {\n  return this._isRunning;\n};\n\nexport default Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/core.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 2\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Interface for loops.\n */\nvar LoopInterface = function() {\n};\n\n/**\n * Resets the loop.\n */\nLoopInterface.prototype.reset = function () {};\n\n/**\n * Updates the loop's timer.\n * @param {Function(Number)} callback the callback to run when ready.\n */\nLoopInterface.prototype.update = function (callback) {};\n\nmodule.exports.LoopInterface = LoopInterface;\n\n/**\n * Naive loop implementation that only limits max updates.\n * Delta times will always be based on the max per seconds.\n * @param {Number} maxUpdatePerSecond the max the game will update per second.\n * @extends LoopInterface\n */\nvar Loop = function(maxUpdatesPerSecond) {\n  LoopInterface.call(this);\n\n  this._maxUpdatesPerSecond = maxUpdatesPerSecond || 60;\n\n  this._lastUpdate = Date.now();\n};\nLoop.prototype = Object.create(LoopInterface.prototype);\n\nLoop.prototype.reset = function () {\n  this._lastUpdate = Date.now();\n};\n\nLoop.prototype.update = function (callback) {\n  let now = Date.now();\n  let updateDelta = now - this._lastUpdate;\n\n  let timeBetweenUpdates = 1000 / this._maxUpdatesPerSecond;\n\n  if (updateDelta >= timeBetweenUpdates && callback) {\n    callback(Math.floor(timeBetweenUpdates));\n    this._lastUpdate = Date.now();\n  }\n};\n\nmodule.exports.Loop = Loop;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/loop.js\n **/","\"use strict\";\n\nimport RenderLayer from '../core/render-layer';\n\n/**\n * Pixi rendering layer which uses WebGL.\n * @param {HTMLElement} element to attach the layer to.\n * @constructor\n * @extends RenderLayer\n */\nfunction PIXILayer (element) {\n  RenderLayer.call(this);\n\n  /**\n   * Renderer for the layer.\n   * @type {PIXI.WebGLRenderer}\n   */\n  this.renderer = new PIXI.WebGLRenderer(1366, 768);\n\n  /**\n   * Stage to add objects to.\n   * @type {PIXI.Stage}\n   */\n  this.stage = new PIXI.Container();\n\n  element.appendChild(this.renderer.view);\n}\nPIXILayer.prototype = Object.create(RenderLayer.prototype);\n\nPIXILayer.prototype.render = function (dt) {\n  this.renderer.render(this.stage);\n};\n\nPIXILayer.prototype.resize = function (width, height) {\n  this.renderer.resize(width, height);\n};\n\nexport default PIXILayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/pixi-layer.js\n **/","\"use strict\";\n\n/**\n * Base object for rendering layers.\n */\nfunction RenderLayer() {}\n\n/**\n * Renders the layer.\n * @param {Number} dt time between renders.\n */\nRenderLayer.prototype.render = function (dt) {};\n\n/**\n * Resizes the rendering layer.\n * @params {Number} width the width of the layer.\n * @params {Number} height the height of the layer.\n */\nRenderLayer.prototype.resize = function (width, height) {};\n\nexport default RenderLayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/render-layer.js\n **/","\"use strict\";\n\n/**\n * Represents a viewport for pixi.\n * A viewport is not shown until added to a displayable object such as stage.\n * If a width and height is provided the viewport will center at the halves.\n */\n\n/**\n * Represents a scene for the viewport.\n * @constructor\n */\nfunction Scene() {\n  /**\n   * Display used for updating with the camera.\n   * @type {PIXI.Container}\n   */\n  this.display = new PIXI.Container();\n\n  /**\n   * True to lock the scene to no longer be scrollable.\n   * @type {boolean}\n   */\n  this.isLocked = false;\n}\n\n/**\n * Creates a viewport.\n * @param {Camera} camera the camera to use.\n * @param {Number} width the width of the viewport.\n * @param {Number} height the height of the viewport.\n * @constructor\n */\nfunction Viewport(camera, width, height) {\n  /**\n   * Main display of the viewport.\n   * @type {PIXI.Container}\n   */\n  this.display = new PIXI.Container();\n\n  /**\n   * Scenes for the viewport.\n   * @type {Array.<Scene>}\n   */\n  this.scenes = [];\n\n  /**\n   * Camera to use for offsetting the scenes.\n   * @type {Camera}\n   */\n  this.camera = camera;\n\n  /**\n   * Width of the viewport.\n   * @type {number}\n   */\n  this.width = width;\n\n  /**\n   * Height of the viewport.\n   * @type {number}\n   */\n  this.height = height;\n\n  /**\n   * True to floor the camera.\n   * @type {boolean}\n   */\n  this.isFloored = true;\n}\n\n/**\n * Retrieves the calculated camera X position.\n * @returns {number}\n */\nViewport.prototype.getCalculatedCameraX = function() {\n  var x = -this.camera.position.x * this.camera.scale.x + this.width / 2;\n  if (this.isFloored) {\n    return Math.floor(x);\n  } else {\n    return x;\n  }\n};\n\n/**\n * Retrieves the calculated camera Y position.\n * @returns {number}\n */\nViewport.prototype.getCalculatedCameraY = function() {\n  var y = -this.camera.position.y * this.camera.scale.y + this.height / 2;\n  if (this.isFloored) {\n    return Math.floor(y);\n  } else {\n    return y;\n  }\n};\n\n/**\n * Floors all displays and children positions.\n * @param {PIXI.Container|PIXI.DisplayObject} display the display to floor.\n */\nfunction floorDisplays(display) {\n  display.position.x = Math.floor(display.position.x);\n  display.position.y = Math.floor(display.position.y);\n\n  if (display instanceof PIXI.Container) {\n    for (var i = 0; i < display.children.length; i++) {\n      floorDisplays(display.children[i]);\n    }\n  }\n}\n\n/**\n * Updates the viewport.\n */\nViewport.prototype.update = function() {\n  if (!this.camera) return;\n\n  // Update the view properties.\n  for (var i = 0; i < this.scenes.length; i++) {\n    var scene = this.scenes[i];\n    var display = scene.display;\n    display.position.x = this.getCalculatedCameraX();\n    display.position.y = this.getCalculatedCameraY();\n    display.scale.x = this.camera.scale.x;\n    display.scale.y = this.camera.scale.y;\n    display.rotation = this.camera.rotation;\n\n    if (scene.isLocked) {\n      display.position.x = this.width / 2;\n      display.position.y = this.height / 2;\n    }\n  }\n};\n\n/**\n * Add a scene to the viewport.\n * Scenes added will have their parent changed to the viewport display.\n * @param {Scene} scene the scene to add.\n */\nViewport.prototype.addScene = function(scene) {\n  this.display.addChild(scene.display);\n  this.scenes.push(scene);\n};\n\n/**\n * Remove a scene from the viewport.\n * Scenes removed will no longer have a parent.\n * @param {ViewportScene} scene the scene to remove.\n */\nViewport.prototype.removeScene = function(scene) {\n  this.display.removeChild(scene.display);\n  var index = this.scenes.indexOf(scene);\n  if (index !== -1) {\n    this.scenes.splice(index, 1);\n  }\n};\n\n/**\n * Add the viewport to an object.\n * @param {PIXI.Container}\n */\nViewport.prototype.addTo = function(object) {\n  object.addChild(this.display);\n};\n\n/**\n * Removes the viewport from the parent.\n */\nViewport.prototype.removeFromParent = function() {\n  if (this.display.parent) this.display.parent.removeChild(this.display);\n};\n\nmodule.exports.Viewport = Viewport;\nmodule.exports.Scene = Scene;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/viewport.js\n **/","\"use strict\";\n\nfunction Camera() {\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this.rotation = 0;\n\n  this.scale = {\n    x: 1.0,\n    y: 1.0\n  };\n}\n\nexport default Camera;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/camera.js\n **/","\"use strict\";\n\n/**\n * Updates and switches states.\n */\nfunction StateSwitcher() {\n    /**\n     * States that can be switched to.\n     * @type {Array.<State>}\n     * @private\n     */\n    this._states = [];\n\n    /**\n     * Currently active states that update in add order.\n     * @type {Array.<State>}\n     * @private\n     */\n    this._activeStates = [];\n}\n\n/**\n * Update all the active states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.update = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].update(dt);\n  }\n};\n\n/**\n * Calls pre-render on all states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.preRender = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].preRender(dt);\n  }\n};\n\n/**\n * Calls post-render on all states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.postRender = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].postRender(dt);\n  }\n};\n\n/**\n * Adds a state to the switcher.\n * @param {State} state the state to add.\n * @param {{}=} params optional parameters to pass to the state.\n */\nStateSwitcher.prototype.addState = function (state, params) {\n  if (this._states.indexOf(state) === -1) {\n    this._states.push(state);\n    if (!state.switcher) {\n      state.switcher = this;\n    }\n    state.onAdd(params);\n  }\n};\n\n/**\n * Remove a state from the switcher.\n * A removed state must not be active.\n * @param {State} state the state to remove.\n * @param {{}=} params optional parameters to pass to the state.\n * @returns {Boolean} true if the state has been removed.\n */\nStateSwitcher.prototype.removeState = function (state, params) {\n  var index = this._activeStates.indexOf(state);\n  if (index === -1) return false;\n\n  state.onRemove(params);\n  this._states.splice(index, 1);\n\n  return true;\n};\n\n/**\n * Retrieves the first state found by name or null if none found.\n * @param {String} name the name of the state to retrieve.\n * @returns {State} the state or null if none found.\n */\nStateSwitcher.prototype.retrieveState = function (name) {\n  for (var i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.type === name) {\n      return state;\n    }\n  }\n\n  return null;\n};\n\n/**\n * Switches a state with another state.\n * Both states must already be valid states to switch to and the state to switch must be active.\n * @param {State} state the state to switch out.\n * @param {State} newState the state to switch in to replace in the array.\n * @param {{}=} leaveParams the parameters to input for the left state.\n * @param {{}=} enterParams the parameters to input for the entering state.\n * @returns {Boolean} true if the state has been switched to.\n */\nStateSwitcher.prototype.switchState = function (state, newState, leaveParams, enterParams) {\n    var index = this._activeStates.indexOf(state);\n\n    // Check if invalid state to switch to.\n    if (index < 0) return false;\n    if (this._states.indexOf(newState) < 0) return false;\n\n    // Switch the states (replaces the spot in the array to keep update order)\n    state.onLeave(leaveParams);\n    this._activeStates[index] = newState;\n    newState.onEnter(enterParams);\n\n\n    return true;\n};\n\n/**\n * Enter a state and adds it to the end of the active states.\n * @param {State} state the state to push in.\n * @param {{}=} enterParams optional parameters to pass to enter.\n * @returns {Boolean} true if the state has been entered.\n */\nStateSwitcher.prototype.enterState = function (state, enterParams) {\n    if (this._states.indexOf(state) === -1) return false;\n    if (this._activeStates.indexOf(state) !== -1) return false;\n\n    this._activeStates.push(state);\n    state.onEnter(enterParams);\n\n    return true;\n};\n\n/**\n * Leaves a state and removes it from the active states.\n * @param {CoreState} state the state to leave.\n * @param {{}=} leaveParams optional parameters to pass to leave.\n * @returns {Boolean} true if the state has been left.\n */\nStateSwitcher.prototype.leaveState = function (state, leaveParams) {\n    if (this._states.indexOf(state) === -1) return false;\n\n    var index = this._activeStates.indexOf(state);\n    if (index === -1) return false;\n\n    state.onLeave(leaveParams);\n    this._activeStates.splice(index, 1);\n\n    return true;\n};\n\nexport default StateSwitcher;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/state-switcher.js\n **/"],"sourceRoot":""}