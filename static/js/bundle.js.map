{"version":3,"sources":["webpack:///webpack/bootstrap dcef7a8ebaa07ff6017a","webpack:///./main.js","webpack:///./src/core/core.js","webpack:///./~/process/browser.js","webpack:///./~/timers-browserify/main.js","webpack:///./src/core/loop.js","webpack:///./src/pixi/pixi-layer.js","webpack:///./src/core/render-layer.js","webpack:///./src/pixi/viewport.js","webpack:///./src/pixi/camera.js","webpack:///./src/core/state-switcher.js","webpack:///./src/core/input.js"],"names":[],"mappings":"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","file":"./static/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dcef7a8ebaa07ff6017a\n **/","\"use strict\";\n\nimport Core from './src/core/core';\nimport PIXILayer from './src/pixi/pixi-layer';\nimport { Viewport } from './src/pixi/viewport';\nimport Camera from './src/pixi/camera';\nimport StateSwitcher from './src/core/state-switcher';\nimport { Input } from './src/core/input';\n\nvar Game = function () {\n  var width = 683, height = 384;\n  var gameElement = document.getElementById('content');\n\n  var core = new Core(window);\n\n  // Create the renderer\n  var pixiLayer = new PIXILayer(gameElement);\n  core.addRenderLayer(pixiLayer);\n\n  // Create the input\n  var input = new Input(window, gameElement);\n\n  // Create the main viewport and camera\n  var camera = new Camera();\n  var viewport = new Viewport(camera, width, height);\n  viewport.addTo(pixiLayer.stage);\n  viewport.isFloored = false;\n  core.resize(width, height);\n\n  // Create the states\n  var switcher = new StateSwitcher();\n  core.addUpdateCallback(switcher.update.bind(switcher));\n  core.addPreRenderCallback(switcher.preRender.bind(switcher));\n  core.addPostRenderCallback(switcher.postRender.bind(switcher));\n\n  core.addPreRenderCallback((dt) => {\n    viewport.update();\n  });\n\n  core.addUpdateCallback((dt) => {\n    console.log(input.keysDown[Input.charToKeyCode('W')]);\n  });\n\n  core.addEndCallback((dt) => {\n    input.flush();\n  });\n\n  this.start = function () {\n    core.start();\n  };\n\n  this.stop = function() {\n    core.stop();\n  };\n};\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","\"use strict\";\n\nimport { Loop } from './loop';\n\nvar isBrowser = true;\nif (process && process.argv.length !== 0) {\n  isBrowser = false;\n}\n\n/**\n * Initialize the main update loop.\n * @param {Window} window the window to use for updating the frame.\n * @constructor\n */\nfunction Core(window) {\n  /**\n   * Cross browser request animation frame.\n   * @type {*|Function}\n   */\n  this._requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback){\n          window.setTimeout(callback, 1000 / 60);\n      };\n  this._requestAnimFrame = this._requestAnimFrame.bind(window);\n\n  /**\n   * Loop to use for updating the logic.\n   * @type {LoopInterface}\n   */\n  this.updateLoop = new Loop(60);\n\n  /**\n   * Loop to use for  updating the rendering.\n   * @type {LoopInterface}\n   */\n  this.renderLoop = new Loop(60);\n\n  /**\n   * Rendering layers.\n   * @type {Array.<RenderLayer>}\n   */\n  this._renderLayers = [];\n\n  /**\n   * Called when the logic updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onUpdate = [];\n\n  /**\n   * Called before the renderer updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onPreRender = [];\n\n  /**\n   * Called after the renderer updates.\n   * @type {Array.<function(number)>}\n   */\n  this._onPostRender = [];\n\n  /**\n   * True to run the loop.\n   * @type {boolean}\n   */\n  this._isRunning = false;\n\n  /**\n   * Callbacks for the beginning of the update loop.\n   * @type {Array.<Function(Number)>}\n   */\n  this._beginCallbacks = [];\n  /**\n   * Callbacks for the end of the update loop.\n   * @type {Array.<Function(Number)>}\n   */\n  this._endCallbacks = [];\n\n  this._boundUpdate = this._update.bind(this);\n  this._boundRender = this._render.bind(this);\n}\n\n/**\n * Renders the scene.\n * @param {Number} dt time between updates.\n */\nCore.prototype._render = function (dt) {\n  this._onPreRender.forEach(function (element) {\n    element(dt);\n  });\n  this._renderLayers.forEach(function (element) {\n    element.render(dt);\n  });\n  this._onPostRender.forEach(function (element) {\n    element(dt);\n  });\n};\n\n/**\n * Updates the game.\n * @param {number} dt the time step of the update.\n */\nCore.prototype._update = function (dt) {\n  this._onUpdate.forEach(function (element) {\n    element(dt);\n  });\n};\n\n/**\n * Updates the game logic and renders the scene.\n */\nCore.prototype._run = function () {\n  var that = this;\n  var previous = Date.now();\n  var runner = function () {\n    if (!that._isRunning) return;\n\n    var now = Date.now();\n    var dt = now - previous;\n    previous = now;\n\n    that._beginCallbacks.forEach(function (element) {\n      element(dt);\n    });\n\n    that.updateLoop.update(that._boundUpdate);\n    that.renderLoop.update(that._boundRender);\n\n    that._endCallbacks.forEach(function (element) {\n      element(dt);\n    });\n\n    if (isBrowser) {\n      that._requestAnimFrame(runner);\n    } else {\n      setImmediate(runner);\n    }\n  };\n  runner();\n};\n\n/**\n * Starts the game.\n */\nCore.prototype.start = function () {\n  this._isRunning = true;\n  this.updateLoop.reset();\n  this.renderLoop.reset();\n  this._run();\n};\n\n/**\n * Stops the game.\n */\nCore.prototype.stop = function () {\n  this._isRunning = false;\n};\n\n/**\n * Resizes each rendering layer.\n * @param {Number} width the width to resize the renderers.\n * @param {Number} height the height to resize the renderers.\n */\nCore.prototype.resize = function (width, height) {\n  this._renderLayers.forEach(function (element) {\n    element.resize(width, height);\n  });\n};\n\n/**\n * Add render a layer.\n * @param {RenderLayer} layer the render layer to add.\n */\nCore.prototype.addRenderLayer = function (layer) {\n  this._renderLayers.push(layer);\n};\n\n/**\n * Remove a render layer.\n * @param {RenderLayer} layer the render layer to remove.\n */\nCore.prototype.removeRenderLayer = function (layer) {\n  var index = this._onPostRender.indexOf(layer);\n  if (index >= 0) {\n    this._renderLayers.splice(index, 1);\n  }\n};\n\n/**\n * Add and remove callbacks from the renders.\n */\n\nCore.prototype.addPreRenderCallback = function (cb) {\n  this._onPreRender.push(cb);\n};\nCore.prototype.removePreRenderCallback = function (cb) {\n  var index = this._onPostRender.indexOf(cb);\n  if (index >= 0) {\n    this._onPreRender.splice(index, 1);\n  }\n};\nCore.prototype.addPostRenderCallback = function (cb) {\n  this._onPostRender.push(cb);\n};\nCore.prototype.removePostRenderCallback = function (cb) {\n  var index = this._onPostRender.indexOf(cb);\n  if (index >= 0) {\n    this._onPostRender.splice(index, 1);\n  }\n};\n\n/**\n * Add and remove callbacks for beginning and end of an update loop.\n */\nCore.prototype.addUpdateCallback = function (cb) {\n  this._onUpdate.push(cb);\n};\nCore.prototype.removeUpdateCallback = function (cb) {\n  var index = this._onUpdate.indexOf(cb);\n  if (index >= 0) {\n    this._onUpdate.splice(index, 1);\n  }\n};\nCore.prototype.addBeginCallback = function (cb) {\n  this._beginCallbacks.push(cb);\n};\nCore.prototype.removeBeginCallback = function (cb) {\n  var index = this._beginCallbacks.indexOf(cb);\n  if (index >= 0) {\n    this._beginCallbacks.splice(index, 1);\n  }\n};\nCore.prototype.addEndCallback = function (cb) {\n  this._endCallbacks.push(cb);\n};\nCore.prototype.removeEndCallback = function (cb) {\n  var index = this._endCallbacks.indexOf(cb);\n  if (index >= 0) {\n    this._endCallbacks.splice(index, 1);\n  }\n};\n\n/**\n * Retrieves if the core is running.\n * @returns {boolean}\n */\nCore.prototype.getIsRunning = function () {\n  return this._isRunning;\n};\n\nexport default Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/core.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 2\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Interface for loops.\n */\nvar LoopInterface = function() {\n};\n\n/**\n * Resets the loop.\n */\nLoopInterface.prototype.reset = function () {};\n\n/**\n * Updates the loop's timer.\n * @param {Function(Number)} callback the callback to run when ready.\n */\nLoopInterface.prototype.update = function (callback) {};\n\nmodule.exports.LoopInterface = LoopInterface;\n\n/**\n * Naive loop implementation that only limits max updates.\n * Delta times will always be based on the max per seconds.\n * @param {Number} maxUpdatePerSecond the max the game will update per second.\n * @extends LoopInterface\n */\nvar Loop = function(maxUpdatesPerSecond) {\n  LoopInterface.call(this);\n\n  this._maxUpdatesPerSecond = maxUpdatesPerSecond || 60;\n\n  this._lastUpdate = Date.now();\n};\nLoop.prototype = Object.create(LoopInterface.prototype);\n\nLoop.prototype.reset = function () {\n  this._lastUpdate = Date.now();\n};\n\nLoop.prototype.update = function (callback) {\n  let now = Date.now();\n  let updateDelta = now - this._lastUpdate;\n\n  let timeBetweenUpdates = 1000 / this._maxUpdatesPerSecond;\n\n  if (updateDelta >= timeBetweenUpdates && callback) {\n    callback(Math.floor(timeBetweenUpdates));\n    this._lastUpdate = Date.now();\n  }\n};\n\nmodule.exports.Loop = Loop;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/loop.js\n **/","\"use strict\";\n\nimport RenderLayer from '../core/render-layer';\n\n/**\n * Pixi rendering layer which uses WebGL.\n * @param {HTMLElement} element to attach the layer to.\n * @constructor\n * @extends RenderLayer\n */\nfunction PIXILayer (element) {\n  RenderLayer.call(this);\n\n  /**\n   * Renderer for the layer.\n   * @type {PIXI.WebGLRenderer}\n   */\n  this.renderer = new PIXI.WebGLRenderer(1366, 768);\n\n  /**\n   * Stage to add objects to.\n   * @type {PIXI.Stage}\n   */\n  this.stage = new PIXI.Container();\n\n  element.appendChild(this.renderer.view);\n}\nPIXILayer.prototype = Object.create(RenderLayer.prototype);\n\nPIXILayer.prototype.render = function (dt) {\n  this.renderer.render(this.stage);\n};\n\nPIXILayer.prototype.resize = function (width, height) {\n  this.renderer.resize(width, height);\n};\n\nexport default PIXILayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/pixi-layer.js\n **/","\"use strict\";\n\n/**\n * Base object for rendering layers.\n */\nfunction RenderLayer() {}\n\n/**\n * Renders the layer.\n * @param {Number} dt time between renders.\n */\nRenderLayer.prototype.render = function (dt) {};\n\n/**\n * Resizes the rendering layer.\n * @params {Number} width the width of the layer.\n * @params {Number} height the height of the layer.\n */\nRenderLayer.prototype.resize = function (width, height) {};\n\nexport default RenderLayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/render-layer.js\n **/","\"use strict\";\n\n/**\n * Represents a viewport for pixi.\n * A viewport is not shown until added to a displayable object such as stage.\n * If a width and height is provided the viewport will center at the halves.\n */\n\n/**\n * Represents a scene for the viewport.\n * @constructor\n */\nfunction Scene() {\n  /**\n   * Display used for updating with the camera.\n   * @type {PIXI.Container}\n   */\n  this.display = new PIXI.Container();\n\n  /**\n   * True to lock the scene to no longer be scrollable.\n   * @type {boolean}\n   */\n  this.isLocked = false;\n}\n\n/**\n * Creates a viewport.\n * @param {Camera} camera the camera to use.\n * @param {Number} width the width of the viewport.\n * @param {Number} height the height of the viewport.\n * @constructor\n */\nfunction Viewport(camera, width, height) {\n  /**\n   * Main display of the viewport.\n   * @type {PIXI.Container}\n   */\n  this.display = new PIXI.Container();\n\n  /**\n   * Scenes for the viewport.\n   * @type {Array.<Scene>}\n   */\n  this.scenes = [];\n\n  /**\n   * Camera to use for offsetting the scenes.\n   * @type {Camera}\n   */\n  this.camera = camera;\n\n  /**\n   * Width of the viewport.\n   * @type {number}\n   */\n  this.width = width;\n\n  /**\n   * Height of the viewport.\n   * @type {number}\n   */\n  this.height = height;\n\n  /**\n   * True to floor the camera.\n   * @type {boolean}\n   */\n  this.isFloored = true;\n}\n\n/**\n * Retrieves the calculated camera X position.\n * @returns {number}\n */\nViewport.prototype.getCalculatedCameraX = function() {\n  var x = -this.camera.position.x * this.camera.scale.x + this.width / 2;\n  if (this.isFloored) {\n    return Math.floor(x);\n  } else {\n    return x;\n  }\n};\n\n/**\n * Retrieves the calculated camera Y position.\n * @returns {number}\n */\nViewport.prototype.getCalculatedCameraY = function() {\n  var y = -this.camera.position.y * this.camera.scale.y + this.height / 2;\n  if (this.isFloored) {\n    return Math.floor(y);\n  } else {\n    return y;\n  }\n};\n\n/**\n * Floors all displays and children positions.\n * @param {PIXI.Container|PIXI.DisplayObject} display the display to floor.\n */\nfunction floorDisplays(display) {\n  display.position.x = Math.floor(display.position.x);\n  display.position.y = Math.floor(display.position.y);\n\n  if (display instanceof PIXI.Container) {\n    for (var i = 0; i < display.children.length; i++) {\n      floorDisplays(display.children[i]);\n    }\n  }\n}\n\n/**\n * Updates the viewport.\n */\nViewport.prototype.update = function() {\n  if (!this.camera) return;\n\n  // Update the view properties.\n  for (var i = 0; i < this.scenes.length; i++) {\n    var scene = this.scenes[i];\n    var display = scene.display;\n    display.position.x = this.getCalculatedCameraX();\n    display.position.y = this.getCalculatedCameraY();\n    display.scale.x = this.camera.scale.x;\n    display.scale.y = this.camera.scale.y;\n    display.rotation = this.camera.rotation;\n\n    if (scene.isLocked) {\n      display.position.x = this.width / 2;\n      display.position.y = this.height / 2;\n    }\n  }\n};\n\n/**\n * Add a scene to the viewport.\n * Scenes added will have their parent changed to the viewport display.\n * @param {Scene} scene the scene to add.\n */\nViewport.prototype.addScene = function(scene) {\n  this.display.addChild(scene.display);\n  this.scenes.push(scene);\n};\n\n/**\n * Remove a scene from the viewport.\n * Scenes removed will no longer have a parent.\n * @param {ViewportScene} scene the scene to remove.\n */\nViewport.prototype.removeScene = function(scene) {\n  this.display.removeChild(scene.display);\n  var index = this.scenes.indexOf(scene);\n  if (index !== -1) {\n    this.scenes.splice(index, 1);\n  }\n};\n\n/**\n * Add the viewport to an object.\n * @param {PIXI.Container}\n */\nViewport.prototype.addTo = function(object) {\n  object.addChild(this.display);\n};\n\n/**\n * Removes the viewport from the parent.\n */\nViewport.prototype.removeFromParent = function() {\n  if (this.display.parent) this.display.parent.removeChild(this.display);\n};\n\nmodule.exports.Viewport = Viewport;\nmodule.exports.Scene = Scene;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/viewport.js\n **/","\"use strict\";\n\nfunction Camera() {\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this.rotation = 0;\n\n  this.scale = {\n    x: 1.0,\n    y: 1.0\n  };\n}\n\nexport default Camera;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pixi/camera.js\n **/","\"use strict\";\n\n/**\n * Updates and switches states.\n */\nfunction StateSwitcher() {\n    /**\n     * States that can be switched to.\n     * @type {Array.<State>}\n     * @private\n     */\n    this._states = [];\n\n    /**\n     * Currently active states that update in add order.\n     * @type {Array.<State>}\n     * @private\n     */\n    this._activeStates = [];\n}\n\n/**\n * Update all the active states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.update = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].update(dt);\n  }\n};\n\n/**\n * Calls pre-render on all states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.preRender = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].preRender(dt);\n  }\n};\n\n/**\n * Calls post-render on all states.\n * @param {Number} dt the time between frames.\n */\nStateSwitcher.prototype.postRender = function (dt) {\n  for (var i = 0; i < this._activeStates.length; i++) {\n    this._activeStates[i].postRender(dt);\n  }\n};\n\n/**\n * Adds a state to the switcher.\n * @param {State} state the state to add.\n * @param {{}=} params optional parameters to pass to the state.\n */\nStateSwitcher.prototype.addState = function (state, params) {\n  if (this._states.indexOf(state) === -1) {\n    this._states.push(state);\n    if (!state.switcher) {\n      state.switcher = this;\n    }\n    state.onAdd(params);\n  }\n};\n\n/**\n * Remove a state from the switcher.\n * A removed state must not be active.\n * @param {State} state the state to remove.\n * @param {{}=} params optional parameters to pass to the state.\n * @returns {Boolean} true if the state has been removed.\n */\nStateSwitcher.prototype.removeState = function (state, params) {\n  var index = this._activeStates.indexOf(state);\n  if (index === -1) return false;\n\n  state.onRemove(params);\n  this._states.splice(index, 1);\n\n  return true;\n};\n\n/**\n * Retrieves the first state found by name or null if none found.\n * @param {String} name the name of the state to retrieve.\n * @returns {State} the state or null if none found.\n */\nStateSwitcher.prototype.retrieveState = function (name) {\n  for (var i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.type === name) {\n      return state;\n    }\n  }\n\n  return null;\n};\n\n/**\n * Switches a state with another state.\n * Both states must already be valid states to switch to and the state to switch must be active.\n * @param {State} state the state to switch out.\n * @param {State} newState the state to switch in to replace in the array.\n * @param {{}=} leaveParams the parameters to input for the left state.\n * @param {{}=} enterParams the parameters to input for the entering state.\n * @returns {Boolean} true if the state has been switched to.\n */\nStateSwitcher.prototype.switchState = function (state, newState, leaveParams, enterParams) {\n    var index = this._activeStates.indexOf(state);\n\n    // Check if invalid state to switch to.\n    if (index < 0) return false;\n    if (this._states.indexOf(newState) < 0) return false;\n\n    // Switch the states (replaces the spot in the array to keep update order)\n    state.onLeave(leaveParams);\n    this._activeStates[index] = newState;\n    newState.onEnter(enterParams);\n\n\n    return true;\n};\n\n/**\n * Enter a state and adds it to the end of the active states.\n * @param {State} state the state to push in.\n * @param {{}=} enterParams optional parameters to pass to enter.\n * @returns {Boolean} true if the state has been entered.\n */\nStateSwitcher.prototype.enterState = function (state, enterParams) {\n    if (this._states.indexOf(state) === -1) return false;\n    if (this._activeStates.indexOf(state) !== -1) return false;\n\n    this._activeStates.push(state);\n    state.onEnter(enterParams);\n\n    return true;\n};\n\n/**\n * Leaves a state and removes it from the active states.\n * @param {CoreState} state the state to leave.\n * @param {{}=} leaveParams optional parameters to pass to leave.\n * @returns {Boolean} true if the state has been left.\n */\nStateSwitcher.prototype.leaveState = function (state, leaveParams) {\n    if (this._states.indexOf(state) === -1) return false;\n\n    var index = this._activeStates.indexOf(state);\n    if (index === -1) return false;\n\n    state.onLeave(leaveParams);\n    this._activeStates.splice(index, 1);\n\n    return true;\n};\n\nexport default StateSwitcher;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/state-switcher.js\n **/","\"use strict\";\n\nvar isBrowser = true;\nif (process && process.argv.length !== 0) {\n    isBrowser = false;\n}\n\n/**\n * Handles keyboard, mouse, and game pad inputs.\n * @param {HTMLElement} window the window to use.\n * @param {HTMLElement=} element the element to retrieve input events from.\n * @constructor\n */\nfunction Input(window, element) {\n  /**\n   * Document to get inputs from.\n   * @type {HTMLElement}\n   */\n  this._document = element || window.document;\n\n  /**\n   * Navigator used for gamepads.\n   * @type {*}\n   */\n  this._navigator = window.navigator;\n\n  /**\n   * Element that is being focused by the mouse.\n   * @type {HTMLElement}\n   */\n  this._focusElement = null;\n\n  /**\n   * Mouse offsets for finding the relative position.\n   * @type {number}\n   */\n  this.offsetX = 0.0;\n  this.offsetY = 0.0;\n\n  /**\n   * Width and height of the element to retrieve inputs from.\n   * @type {number}\n   */\n  this.width = element ? element.offsetWidth : 0;\n  this.height = element ? element.offsetHeight : 0;\n\n  /**\n   * True when the mouse is just clicked.\n   * @type {{left: boolean, middle: boolean, right: boolean}}\n   */\n  this.isMouseClicked = {\n    left: false,\n    middle: false,\n    right: false\n  };\n\n  /**\n   * True when the mouse is just released.\n   * @type {{left: boolean, middle: boolean, right: boolean}}\n   */\n  this.isMouseReleased = {\n    left: false,\n    middle: false,\n    right: false\n  };\n\n  /**\n   * True when the mouse is being held down.\n   * @type {{left: boolean, middle: boolean, right: boolean}}\n   */\n  this.isMouseDown = {\n    left: false,\n    middle: false,\n    right: false\n  };\n\n  /**\n   * Position of the mouse relative to the center of the canvas.\n   * Left ie negative X and right is positive X.\n   * Up is positive Y and down is negative Y.\n   * Ranges from -1 to 1.\n   * @type {number}\n   */\n  this.mouseX = 0;\n  this.mouseY = 0;\n\n  /**\n   * Holds if a key is down.\n   * @dict\n   */\n  this.keysDown = {};\n\n  /**\n   * Holds if a key is up for the current frame.\n   * @dict\n   */\n  this.keysUp = {};\n\n  /**\n   * Holds if a key is pressed for the current frame.\n   * @dict\n   */\n  this.keysJustDown = {};\n\n  /**\n   * Hotkeys are keys that map to one or more hotkeys.\n   * Hotkeys names are added to the keysDown and keysUp input.\n   * @dict\n   */\n  this.hotkeys = {};\n\n  /**\n   * True to enable game pad support.\n   * @type {boolean}\n   */\n  this.enableGamePads = true;\n\n  /**\n   * Dead zone for game pads.\n   * @type {number}\n   */\n  this.deadZone = 0.25;\n\n  /**\n   * Connected game pads.\n   * @type {Array.<Gamepad>}\n   */\n  this.gamepads = [];\n\n  /**\n   * Buttons for the gamepad in the previous frame.\n   * @type {Array.<GamepadButton>}\n   */\n  this.gamepadsButtonsPrevious = [];\n\n  /**\n   * Check if game pad support is available.\n   * @type {Boolean}\n   */\n  this.gamepadSupportAvailable = this._navigator.getGamepads ||\n    !!this._navigator.webkitGetGamepads ||\n    !!this._navigator.webkitGamepads;\n\n  /**\n   * True to force all gamepads to use a single pad code.\n   * @type {boolean}\n   */\n  this.forceSingleGamepad = true;\n\n  /********************************************\n   * Initialize the inputs.\n   *******************************************/\n  // Don't listen to events if no element is given.\n  if (!element) return;\n\n  // Calculate the offsets.\n  var obj = element;\n  if (obj.offsetParent) {\n    do {\n      this.offsetX += obj.offsetLeft;\n      this.offsetY += obj.offsetTop;\n    } while (obj = obj.offsetParent);\n  }\n\n  // Disable default behavior.\n  this.disableDefaults(element);\n\n  // Keep track of the focused element.\n  element.ownerDocument.addEventListener('mousedown', (function(event) {\n      this._focusElement = event.target;\n  }).bind(this), false);\n\n  // Add the events.\n  element.addEventListener('mousedown', this._onMouseDown.bind(this), false);\n  element.addEventListener('mouseup', this._onMouseUp.bind(this), false);\n  element.addEventListener('mousemove', this._onMouseMove.bind(this), false);\n\n  // Set up the keycode.\n  element.ownerDocument.addEventListener('keydown', this._onKeyDown.bind(this));\n  element.ownerDocument.addEventListener('keyup', this._onKeyUp.bind(this));\n}\n\n/**\n * Updates the input.\n * @param {number} dt the time between frames.\n */\nInput.prototype.update = function(dt) {\n  // Update the gamepads.\n  if (this.gamepadSupportAvailable && this.enableGamePads) {\n    this.updateGamePads();\n  }\n};\n\n/**\n * Runs when the mouse is down.\n * @param {MouseEvent} event the mouse event.\n */\nInput.prototype._onMouseDown = function(event) {\n  var code = null;\n  switch (event.button) {\n    case Input.MouseButtons.Left:\n      this.isMouseClicked.left = true;\n      this.isMouseDown.left = true;\n      code = Input.MouseCodes.Left;\n      break;\n    case Input.MouseButtons.Middle:\n      this.isMouseClicked.middle = true;\n      this.isMouseDown.middle = true;\n      code = Input.MouseCodes.Middle;\n      break;\n    case Input.MouseButtons.Right:\n      this.isMouseClicked.right = true;\n      this.isMouseDown.right = true;\n      code = Input.MouseCodes.Right;\n      break;\n  }\n  if (code) {\n    this.keysDown[code] = true;\n    this.keysJustDown[code] = true;\n\n    // Update every hotkey.\n    if (this.hotkeys[code]) {\n      for (var i = 0; i < this.hotkeys[code].length; i++) {\n        this.keysDown[this.hotkeys[code][i]] = true;\n        this.keysJustDown[this.hotkeys[code][i]] = this.keysJustDown[code];\n      }\n    }\n  }\n};\n\n/**\n * Runs when the mouse is released.\n * @param {MouseEvent} event the mouse event.\n */\nInput.prototype._onMouseUp = function(event) {\n  var code = null;\n  switch (event.button) {\n    case Input.MouseButtons.Left:\n      this.isMouseDown.left = false;\n      this.isMouseReleased.left = true;\n      code = Input.MouseCodes.Left;\n      break;\n    case Input.MouseButtons.Middle:\n      this.isMouseDown.middle = false;\n      this.isMouseReleased.middle = true;\n      code = Input.MouseCodes.Middle;\n      break;\n    case Input.MouseButtons.Right:\n      this.isMouseDown.right = false;\n      this.isMouseReleased.middle = true;\n      code = Input.MouseCodes.Right;\n      break;\n  }\n  if (code) {\n    this.keysDown[code] = false;\n    this.keysUp[code] = true;\n\n    // Update every hotkey.\n    if (this.hotkeys[code]) {\n      for (var i = 0; i < this.hotkeys[code].length; i++) {\n        this.keysDown[this.hotkeys[code][i]] = false;\n        this.keysUp[this.hotkeys[code][i]] = true;\n      }\n    }\n  }\n};\n\n/**\n * Runs when the mouse has moved.\n * @param {MouseEvent} event the mouse event.\n */\nInput.prototype._onMouseMove = function(event) {\n  this.mouseX = (event.pageX - this.offsetX - this.width / 2) / (this.width / 2);\n  this.mouseY = -(event.pageY - this.offsetY - this.height / 2) / (this.height / 2);\n};\n\nInput.prototype._onKeyDown = function(event) {\n  var charCode = event.keyCode;\n  // Only add to just down if it isn't down already.\n  if (!this.keysDown[charCode]) {\n    this.keysJustDown[charCode] = true;\n  }\n  this.keysDown[charCode] = true;\n\n  // Update every hotkey.\n  if (this.hotkeys[charCode]) {\n    for (var i = 0; i < this.hotkeys[charCode].length; i++) {\n      this.keysDown[this.hotkeys[charCode][i]] = true;\n      this.keysJustDown[this.hotkeys[charCode][i]] = this.keysJustDown[charCode];\n    }\n  }\n\n  return false;\n};\n\nInput.prototype._onKeyUp = function(event) {\n  var charCode = event.keyCode;\n  this.keysDown[charCode] = false;\n  this.keysUp[charCode] = true;\n\n  // Update every hotkey.\n  if (this.hotkeys[charCode]) {\n    for (var i = 0; i < this.hotkeys[charCode].length; i++) {\n      this.keysDown[this.hotkeys[charCode][i]] = false;\n      this.keysUp[this.hotkeys[charCode][i]] = true;\n    }\n  }\n};\n\n/**\n * Updates the gamepads.\n */\nInput.prototype.updateGamePads = function() {\n  if (!this.gamepadSupportAvailable || !this.enableGamePads) return;\n\n  // Retrieve all available pads.\n  var rawGamepads = (navigator.getGamepads && navigator.getGamepads()) ||\n      (navigator.webkitGetGamepads && navigator.webkitGetGamepads());\n\n  var i;\n  if (rawGamepads) {\n      this.gamepads = [];\n      for (i = 0; i < rawGamepads.length; i++) {\n          if (rawGamepads[i]) {\n              this.gamepads.push(rawGamepads[i]);\n          }\n      }\n  }\n\n  // Set buttons down and up for the pad.\n  var k, j;\n  for (i = 0; i < this.gamepads.length; i++) {\n    var gamepad = this.gamepads[i];\n    if (!gamepad) continue;\n\n    var buttons = [];\n    // Create a previous state if needed.\n    if (!this.gamepadsButtonsPrevious[i]) {\n      this.gamepadsButtonsPrevious[i] = [];\n      for (j = 0; j < gamepad.buttons.length; j++) {\n        this.gamepadsButtonsPrevious[i][j] = 0;\n      }\n    }\n    // Set the buttons to values.\n    for (j = 0; j < gamepad.buttons.length; j++) {\n      buttons[j] = gamepad.buttons[j].value;\n    }\n    // Simulate key pressed on gamepad analog.\n    if (gamepad.axes[0] < -this.deadZone) {\n      buttons[14] = 1;\n    } else if (gamepad.axes[0] > this.deadZone) {\n      buttons[15] = 1;\n    }\n    if (gamepad.axes[1] < -this.deadZone) {\n      buttons[12] = 1;\n    } else if (gamepad.axes[1] > this.deadZone) {\n      buttons[13] = 1;\n    }\n    // Check if a button is pressed based on the last button state.\n    for (j = 0; j < buttons.length; j++) {\n      var isPressed = false;\n      var isUp = false;\n\n      if (this.gamepadsButtonsPrevious[i][j] <= this.deadZone && buttons[j] > this.deadZone) {\n        isPressed = true;\n      }\n      if (this.gamepadsButtonsPrevious[i][j] > this.deadZone && buttons[j] <= this.deadZone) {\n        isUp = true;\n      }\n      var padCode = 'GP' + (i + 1) + '-' + j;\n      if (this.forceSingleGamepad) {\n        padCode = padName + j;\n      }\n      if (isPressed) {\n        // Handle first press.\n        if (!this.keysDown[padCode]) {\n          this.keysJustDown[padCode] = true;\n          this.keysDown[padCode] = true;\n        }\n\n        // Update every hotkey.\n        if (this.hotkeys[padCode] && this.keysJustDown[padCode]) {\n          for (k = 0; k < this.hotkeys[padCode].length; k++) {\n            this.keysDown[this.hotkeys[padCode][k]] = true;\n            this.keysJustDown[this.hotkeys[padCode][k]] = this.keysJustDown[padCode];\n          }\n        }\n      }\n      if (isUp) {\n        // Signal a button is no longer pressed.\n        if (this.keysDown[padCode]) {\n          this.keysDown[padCode] = false;\n          this.keysUp[padCode] = true;\n        }\n\n        // Update every hotkey.\n        if (this.hotkeys[padCode]) {\n          for (k = 0; k < this.hotkeys[padCode].length; k++) {\n            if (this.keysDown[this.hotkeys[padCode][k]]) {\n              this.keysDown[this.hotkeys[padCode][k]] = false;\n              this.keysUp[this.hotkeys[padCode][k]] = true;\n            }\n          }\n        }\n      }\n      // Update the previous pad state.\n      this.gamepadsButtonsPrevious[i][j] = buttons[j];\n    }\n  }\n};\n\n/**\n * Cleans up the input system for use with the next update.\n */\nInput.prototype.flush = function() {\n  this.isMouseClicked.left = false;\n  this.isMouseClicked.middle = false;\n  this.isMouseClicked.right = false;\n  this.isMouseReleased.left = false;\n  this.isMouseReleased.middle = false;\n  this.isMouseReleased.right = false;\n  this.keysUp = {};\n  this.keysJustDown = {};\n};\n\n/**\n * Adds a hotkey to a key.\n * @param {String} key the key to assign to a hotkey.\n * @param {String} hotkey the hotkey name.\n */\nInput.prototype.addHotkey = function(key, hotkey) {\n  if (!this.hotkeys[key]) this.hotkeys[key] = [];\n\n  if (this.hotkeys[key].indexOf(hotkey) === -1) {\n    this.hotkeys[key].push(hotkey);\n  }\n};\n\n/**\n * Removes a key from the hotkey.\n * @param {String} key the key to remove a hotkey from.\n * @param {String} hotkey the hotkey name.\n */\nInput.prototype.removeHotkey = function(key, hotkey) {\n  if (this.hotkeys[key]) {\n    var index = this.hotkeys[key].indexOf(hotkey);\n    if (index !== -1) {\n      this.hotkeys[key].splice(index, 1);\n    }\n  }\n};\n\n/**\n * Removes all hotkeys.\n */\nInput.prototype.removeAllHotkeys = function () {\n  this.hotkeys = {};\n};\n\n/**\n * Prevent default inputs on the element.\n * @param {HTMLElement} element the element to prevent default inputs of.\n */\nInput.prototype.disableDefaults = function (element) {\n  // Disable the context menu.\n  element.addEventListener('contextmenu', function(e){\n    e.preventDefault();\n  }, false);\n  // Disable scrolling when in canvas.\n  function onWheelScroll(e) {\n    e.preventDefault();\n  }\n  element.addEventListener('DOMMouseScroll', function(e){onWheelScroll(e);}, false);\n  element.onmousewheel = onWheelScroll;\n  // Disable key scrolling.\n  element.ownerDocument.addEventListener('keydown', (function(e){\n    if (this._focusElement !== this._document) return;\n    if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n      e.preventDefault();\n    }\n  }).bind(this), false);\n};\n\n/**\n * Converts a character to a key code.\n * @param {String} input the character to convert.\n * @return {Number} the key code.\n */\nInput.charToKeyCode = function (input) {\n  return input.charCodeAt(0);\n};\n\n/**\n * Mouse buttons hold the raw input numbers for the mouse.\n * @type {{Left: number, Middle: number, Right: number}}\n */\nInput.MouseButtons = {\n  Left: 0,\n  Middle: 1,\n  Right: 2\n};\n\nvar mouseName = 'MB1-';\n/**\n * Mouse codes are used to treat mouse buttons as normal keyboard buttons.\n * @type {{Left: string, Middle: string, Right: string}}\n */\nInput.MouseCodes = {\n  Left: mouseName + '0',\n  Middle: mouseName + '1',\n  Right: mouseName + '2'\n};\n\nInput.CharCodes = {\n  Space: 32,\n  Left: 37,\n  Up: 38,\n  Right: 39,\n  Down: 40,\n  Shift: 16,\n  Ctrl: 17,\n  Alt: 18,\n  Tab: 9,\n  CapsLock: 20\n};\n\nvar padName = 'GP1-';\nInput.P1PadCodes = {\n  AxisX: padName + 'AX',\n  AxisY: padName + 'AY',\n  AxisZ: padName + 'AZ',\n  Left: padName + 14,\n  Up: padName + 12,\n  Right: padName + 15,\n  Down: padName + 13,\n  ButtonLeft: padName + 2,\n  ButtonUp: padName + 3,\n  ButtonRight: padName + 1,\n  ButtonDown: padName + 0,\n  L1: padName + 4,\n  R1: padName + 5,\n  L2: padName + 6,\n  R2: padName + 7,\n  L3: padName + 10,\n  R3: padName + 11,\n  Select: padName + 8,\n  Start: padName + 9\n};\n\nmodule.exports.Input = Input;\nmodule.exports.MouseButtons = Input.MouseButtons;\nmodule.exports.MouseCodes = Input.MouseCodes;\nmodule.exports.CharCodes = Input.CharCodes;\nmodule.exports.P1PadCodes = Input.P1PadCodes;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/input.js\n **/"],"sourceRoot":""}